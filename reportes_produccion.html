<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificaci√≥n de Reportes de Producci√≥n</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Verificaci√≥n de Reportes de Producci√≥n</h1>
        <p>El Ing. Juve revisa los reportes ingresados por los operadores.</p>
        <button onclick="window.location.href='dashboard_juve.html'">üîô Volver al Dashboard</button>
    </header>

    <main>
        <section id="listaReportes">
            <h2>Reportes Pendientes de Verificaci√≥n</h2>
            <ul id="reportes">
                <!-- Aqu√≠ se cargar√°n los reportes -->
            </ul>
        </section>
    </main>

    <script>
        // Simulaci√≥n de reportes obtenidos desde la base de datos
        const reportes = [
            { id: 1, operador: "Juan P√©rez", variedad: "Rosa", cantidad: 50, fechaSiembra: "2024-06-01", tasaMultiplicacion: 2.5, tuppersLlenos: 10, tuppersVacios: 5, estado: "Pendiente", nota: "" },
            { id: 2, operador: "Mar√≠a L√≥pez", variedad: "Orqu√≠dea", cantidad: 30, fechaSiembra: "2024-06-02", tasaMultiplicacion: 1.8, tuppersLlenos: 7, tuppersVacios: 3, estado: "Pendiente", nota: "" }
        ];

        function cargarReportes() {
            const lista = document.getElementById("reportes");
            lista.innerHTML = "";

            reportes.forEach((reporte, index) => {
                const item = document.createElement("li");
                item.innerHTML = `<strong>Operador:</strong> ${reporte.operador}, <strong>Variedad:</strong> ${reporte.variedad}, 
                                  <strong>Cantidad:</strong> ${reporte.cantidad}, <strong>Fecha de Siembra:</strong> ${reporte.fechaSiembra}, 
                                  <strong>Tasa de Multiplicaci√≥n:</strong> ${reporte.tasaMultiplicacion}, 
                                  <strong>Tuppers Llenos:</strong> ${reporte.tuppersLlenos}, <strong>Tuppers Vac√≠os:</strong> ${reporte.tuppersVacios} 
                                  <br><strong>Estado:</strong> <span id="estado-${index}">${reporte.estado}</span>
                                  <br><button onclick="verificarReporte(${index}, true)">‚úî Verificar</button>
                                  <button onclick="verificarReporte(${index}, false)">‚úñ Incorrecto</button>
                                  <textarea id="nota-${index}" placeholder="Agregar nota (si es incorrecto)" style="display:none;"></textarea>`;
                lista.appendChild(item);
            });
        }

        function verificarReporte(index, correcto) {
            const estadoElemento = document.getElementById(`estado-${index}`);
            const notaElemento = document.getElementById(`nota-${index}`);

            if (correcto) {
                reportes[index].estado = "Verificado";
                reportes[index].nota = "";
                notaElemento.style.display = "none";
                alert(`‚úÖ Reporte de ${reportes[index].operador} ha sido verificado correctamente.`);
            } else {
                reportes[index].estado = "Incorrecto";
                notaElemento.style.display = "block";
                notaElemento.addEventListener("input", function () {
                    reportes[index].nota = notaElemento.value;
                });
                alert(`‚ö† Reporte de ${reportes[index].operador} marcado como INCORRECTO. Se enviar√° una notificaci√≥n.`);
            }
            estadoElemento.textContent = reportes[index].estado;
        }

        document.addEventListener("DOMContentLoaded", cargarReportes);
    </script>
</body>
</html>
